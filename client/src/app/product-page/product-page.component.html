<div *ngIf="product" class="flex flex-col items-center">
  <!-- Product Card -->
  <div
    class="flex flex-col px-4 pb-4 pt-2 w-full bg-primary rounded-sm relative"
  >
    <!-- Return Link -->
    <a
      class="pb-1 text-md text-gray-200 self-start hover:text-white cursor-pointer"
      (click)="goBack()"
    >
      &larr; Takaisin
    </a>

    <div class="flex flex-col md:flex-row justify-evenly">
      <!-- Image -->
      <img
        [src]="getImageUrl(product.image)"
        alt="{{ product.name }} tuotekuva"
        class="bg-image md:h-96 sm:h-52 w-full md:w-1/2 object-contain p-4 rounded-sm border-2 border-gray-600"
      />

      <!-- Info -->
      <div
        class="flex flex-col w-full text-white justify-between space-y-2 p-2 md:p-0 md:space-y-0 md:ml-8 md:py-6 md:w-1/2"
      >
        <!-- Name -->
        <h1 class="text-3xl font-bold">
          {{ product.name }}
        </h1>

        <!-- Price -->
        <p class="text-3xl font-semibold">
          {{ product.price | currency : "EUR" : "symbol" : "1.2-2" }}
          <span class="text-lg font-normal">(sis alv.)</span>
        </p>

        <!-- Stock quantity -->
        <p class="text-base">
          <span class="font-medium">Saatavuus:</span>
          <span class="text-white">
            {{
              product.stock > 0
                ? product.stock + " kpl varastossa"
                : "Ei varastossa"
            }}
          </span>
        </p>

        <!-- Cart controls -->
        <app-cart-controls-large [product]="product"></app-cart-controls-large>
      </div>
    </div>
  </div>

  <!-- Description and Features -->
  <div class="flex flex-col w-full mt-4 p-4 bg-primary rounded-sm">
    <!-- Description -->
    <h2 class="text-xl font-bold text-white">Tuotekuvaus:</h2>
    <p
      class="mt-2 text-gray-200 whitespace-pre-line description"
      [innerHTML]="sanitizedDescription"
    ></p>
  </div>
</div>
