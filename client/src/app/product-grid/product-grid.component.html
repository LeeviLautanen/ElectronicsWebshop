<div class="grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
  <div
    *ngFor="let product of products"
    class="bg-gray-800 p-3 rounded-lg shadow-lg w-[15.5rem]] flex flex-col relative"
  >
    <!-- Stock indicator -->
    <div class="group absolute top-5 right-5 flex items-center">
      <div
        class="w-4 h-4 rounded-full"
        [class.bg-green-500]="product.stock > 0"
        [class.bg-red-500]="product.stock <= 0"
      ></div>

      <span
        class="absolute right-6 mt-1 opacity-0 group-hover:opacity-100 group-hover:block px-2 py-1 text-xs text-white bg-gray-600 rounded-lg transition-all"
      >
        {{ product.stock > 0 ? "Varastossa" : "Loppu varastosta" }}
      </span>
    </div>

    <!-- Image of product -->
    <a [routerLink]="'/tuote/' + product.slug">
      <img
        [src]="product.imageUrl"
        alt="Product image"
        class="w-full h-48 object-cover rounded-t-lg"
      />
    </a>

    <!-- Product name -->
    <div class="mt-4 text-white flex-grow">
      <a
        [routerLink]="'/tuote/' + product.slug"
        class="hover:underline inline-block"
      >
        <h3 class="text-xl font-semibold">{{ product.name }}</h3>
      </a>
    </div>

    <!-- Price and cart buttons -->
    <div class="mt-3 flex justify-between items-center">
      <p class="text-xl font-bold text-white">{{ product.price }} â‚¬</p>
      <app-cart-controls-small [product]="product"></app-cart-controls-small>
    </div>
  </div>
</div>
